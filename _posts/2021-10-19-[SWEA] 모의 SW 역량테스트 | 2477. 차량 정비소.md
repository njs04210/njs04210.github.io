---
## layout: post
## title:  [ëª¨ì˜ SW ì—­ëŸ‰í…ŒìŠ¤íŠ¸] 2477. ì°¨ëŸ‰ ì •ë¹„ì†Œ
categories: [Algorithm]
comments: true
---

### [ğŸ‘‰ ë¬¸ì œ ë³´ëŸ¬ê°€ê¸°](https://swexpertacademy.com/main/code/problem/problemSolver.do?contestProbId=AV6c6bgaIuoDFAXy)  


#### Key Point



---

```python
from collections import deque
import heapq
from copy import deepcopy

T = int(input())
for test_case in range(1, T + 1):
    n, m, k, a, b = map(int, input().split())
    reception_time = list(map(int, input().split())) # ê° ì ‘ìˆ˜ì°½êµ¬ì˜ ê±¸ë¦¬ëŠ” ì‹œê°„
    repair_time = list(map(int, input().split())) # ê° ì •ë¹„ì°½êµ¬ì˜ ê±¸ë¦¬ëŠ” ì‹œê°„
    arrive_time = list(map(int, input().split())) # ê³ ê°ì˜ ì •ë¹„ì†Œ ë„ì°©ì‹œê°„

    reception_desk, repair_desk = [-1] * n, [-1] * m
    timer_reception, timer_repair = deepcopy(reception_time), deepcopy(repair_time)
    reception_waiting, repair_waiting = [], deque()
    k_info = [[-1,-1] for _ in range(k)]
    cnt = k
    answer = 0

    tmp = min(arrive_time)
    arrive_time = list(map(lambda x: x - tmp, arrive_time))

    while True:

        # ì ‘ìˆ˜ì°½êµ¬ë¡œ ê°ˆ ìˆ˜ ìˆëŠ” ì‚¬ëŒ ì°¾ê¸°
        for i in range(k):
            if arrive_time[i] == 0:
                heapq.heappush(reception_waiting, i)


        # ì ‘ìˆ˜ì°½êµ¬ë¡œ ë³´ë‚´ê¸°
        if reception_waiting:
            for i in range(n):
                if reception_desk[i] == -1: # ì ‘ìˆ˜ì°½êµ¬ì— ì•„ë¬´ë„ ì—†ì„ë•Œ
                    if reception_waiting:
                        idx = heapq.heappop(reception_waiting)
                        k_info[idx][0] = i
                        reception_desk[i] = idx

        # ì ‘ìˆ˜ê°€ ëë‚˜ì„œ ì •ë¹„ì°½êµ¬ë¡œ ê°ˆ ìˆ˜ ìˆëŠ” ì‚¬ëŒ ì°¾ê¸°
        for i in range(n):
            if reception_desk[i] != -1:
                timer_reception[i] -= 1
                if timer_reception[i] == 0:
                    idx = reception_desk[i]
                    repair_waiting.append(idx)
                    reception_desk[i] = -1
                    timer_reception[i] = reception_time[i]

        # ì •ë¹„ì°½êµ¬ë¡œ ë³´ë‚´ê¸°
        if repair_waiting:
            for i in range(m):
                if repair_desk[i] == -1: # ì ‘ìˆ˜ì°½êµ¬ì— ì•„ë¬´ë„ ì—†ì„ë•Œ
                    if repair_waiting:
                        idx = repair_waiting.popleft()
                        k_info[idx][1] = i
                        repair_desk[i] = idx

        # ì •ë¹„ê°€ ëë‚œ ì‚¬ëŒ ì°¾ê¸°
        for i in range(m):
            if repair_desk[i] != -1:
                timer_repair[i] -= 1
                if timer_repair[i] == 0:
                    idx = repair_desk[i]
                    repair_desk[i] = -1
                    timer_repair[i] = repair_time[i]
                    cnt -= 1

        for i in range(k):
            arrive_time[i] -= 1

        # ì¢…ë£Œì¡°ê±´ : ëª¨ë“  ê³ ê°ì´ ëª¨ë“  ê³¼ì •ì„ ë‹¤ ê±°ì³¤ì„ë•Œ
        if cnt == 0: break 

    for i in range(k):
        num1, num2 = k_info[i]
        if (num1 + 1) == a and (num2 + 1) == b:
            answer += (i+1)

    if answer == 0:
        answer = -1

    print(f'#{test_case} {answer}')

```